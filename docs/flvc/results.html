<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
<title>Voxel Compression</title>

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../css/darcula.css" rel="stylesheet" />
  <link href="../css/extra.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "FLVC Performance, Conclusions";
    var mkdocs_page_input_path = "flvc/results.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/asm.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/ebnf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/cpp.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/rust.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> VOXEL COMPRESSION</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../index.html">Compression of Voxel Models</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Basics</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../properties.html">Properties of Voxel Models</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../statistical_tests.html">Statistical Tests to Determine Voxel Model Properties</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Related Work</span></p>
                <ul>
                    <li class="toctree-l1"><a class="" href="../related/overview.md">None</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../related/voxel_formats.html">List of Voxel File Formats</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../related/literature.html">References</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Geometry Encoding</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../uncompressed.html">Uncompressed Format</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../rle/rle.html">Run-Length Encoding</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../rle/space_filling_curves.html">Space-Filling Curves</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../rle/hilbert_curves.html">3D Hilbert Curves</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../svo/svo.html">Sparse Voxel Octree</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../svo/construction.html">SVO Construction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../svo/optimization.html">SVO Optimization</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dag/dag.html">Directed Acyclic Graph</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cuboid_extraction.html">Cuboid Extraction</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Attribute Encoding</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../attribute_compression.html">SVO Attribute Compression</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Implementation</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="flvc.html">Free Lossless Voxel Compression (FLVC)</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="flvc_optimizations.html">FLVC Data Stream</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="full_example.html">Full Example</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="results.html">FLVC Performance, Conclusions</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#conclusions">Conclusions</a>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Auxiliary File Formats</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../file_formats/vl32.html">32-Bit Voxel List (VL32)</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../file_formats/vlascii.html">ASCII Voxel List (VLASCII)</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../file_formats/structlang.html">Structure Language (StructLang)</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">VOXEL COMPRESSION</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Implementation &raquo;</li>
        
      
    
    <li>FLVC Performance, Conclusions</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="flvc-performance-conclusions">FLVC Performance, Conclusions</h1>
<style>
table {
margin-bottom: 2em;
}

td, th {
padding: 6px;
border: 1px solid black !important;
}

td {
font-family: monospace;
text-align: right;
}

th {
background: silver;
}
</style>

<h2 id="examples">Examples</h2>
<p>In the following section, we will look at three concrete examples of real world
performance of the FLVC codec.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All test were performed on the ramdisk of a Debian 11 Desktop.<br>
<strong>Processor:</strong> Ryzen 9 3900X<br>
<strong>Memory:</strong> 64 GiB 3200MHz</p>
</div>
<h3>Spacestation</h3>
<p><img style="width: 560px" alt="Spacestation" src="../img/model/spacestation.png"></p>
<table>
<tr><th>Voxels</th><td> 923,566 V</td></tr>
<tr><th>Raw Size</th><td> 14,777,056 B</td></tr>
<tr><th>Encoded Size (FLVC-6)</th><td>(3.34%) 500,812 B</td></tr>
<tr><th>Encoded Size (FLVC-9)</th><td>(3.33%) 493,409 B</td></tr>
<tr><th>Encoding Duration (FLVC-6)</th><td> 1679 ms</td></tr>
<tr><th>Encoding Duration (FLVC-9)</th><td> 2130 ms</td></tr>
</table>

<h3>Scrapyard</h3>
<p><img style="width: 400px" alt="Scrapyard" src="../img/model/scrapyard.png"></p>
<table>
<tr><th>Voxels</th><td> 24,423,655 V</td></tr>
<tr><th>Raw Size (VL32)</th><td> 390,778,480 B</td></tr>
<tr><th>Compressed Size (FLVC-6)</th><td>(1.71%) 6,682,496 B</td></tr>
<tr><th>Compressed Size (FLVC-9)</th><td>(1.69%) 6,602,502 B</td></tr>
<tr><th>Encoding Duration (FLVC-6)</th><td> 38 s</td></tr>
<tr><th>Encoding Duration (FLVC-9)</th><td> 44 s</td></tr>
</table>

<h3>Mars Heightmap</h3>
<p><img style="width: 400px" alt="Mars Map" src="../img/model/mars_map.png"></td></tr></p>
<table>
<tr><th>Voxels</th><td> 101,244,604 V</td></tr>
<tr><th>Raw Size</th><td> 1,619,913,664 B</td></tr>
<tr><th>Encoded Size (FLVC-6)</th><td>(0.90%) 14,616,607 B</td></tr>
<tr><th>Encoded Size (FLVC-9)</th><td>(0.86%) 13,914,269 B</td></tr>
<tr><th>Encoding Duration (FLVC-6)</th><td> 149 s</td></tr>
<tr><th>Encoding Duration (FLVC-9)</th><td> 163 s</td></tr>
</table>

<h2 id="conclusions">Conclusions</h2>
<h5>Compression Ratio</h5>
<p>Free Lossless Voxel Compression delivers impressive results.
Even for the smaller and somewhat less redundant models, we need less than one
byte per voxel despite starting with 16 bytes per voxel (<code>x, y, z, argb</code>).
At best, the file size is reduced by over 99%.
It must be emphasized that in related work, the reference point is typically a
voxel array where only a minuscule fraction consists of voxels.
Here, the reference point is a list of voxels with no empty space between.</p>
<p>The level of compression has little impact on the size of the produced filed.
At best, a 10% reduction ca be seen, at worst, almost none.</p>
<h5>Time</h5>
<p>Execution time can be perceived as excessive for very large models.
As can be concluded from previous sections, most of this time is spent reading
in VL32 data and constructing the SVO.
For example, of the 149 seconds to encode the heightmap at level 6, 108 were
spent constructing the SVO.
This is a problem that can not be easily resolved algorithmically and is
inherent to manipulating large quantities of data.
Once again, the compression level has comparably little impact: here on the
encoding duration.</p>
<h5>Further Improvements</h5>
<p>Some compression ratio improvements could be achieved by choosing a different
entropy coder.
For example, <a href="https://github.com/facebook/zstd">Facebook's Zstandard</a> is a more
recent and promising technology than zlib.
A slight improvement in compression speed is also likely.</p>
<p>However, the biggest bottleneck as of now is the time it takes to construct
the SVO while also reading VL32 data.
A potential solution would be to use multiple threads: One for reading the
VL32 file and one for constructing the SVO.
At most, this would reduce the duration of first part of FLVC encoding by 50%.</p>
<p>Another potential approach would be to create multiple, independent volumes,
which are all encoded by a separate thread.
Potentially, separate zlib streams could be created as well to avoid a
bottleneck during entropy coding.
However, this would require further modifications of the FLVC standard and is
not possible merely by optimizing the reference implementation.</p>
              
            </div>
          </div>
<footer></footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="full_example.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../file_formats/vl32.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML" defer></script>
      <script src="../js/mathjax_config.js" defer></script>
      <script src="../js/extra.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
